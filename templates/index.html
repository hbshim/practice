<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>

<body>

    <div class="left" id="3d-graph">
        <script type="text/javascript" src="{{ url_for('static', filename='three.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='three-spriteMathtJaxedText.min.js') }}"></script>
        <script src="{{ url_for('static', filename='3d-force-graph.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='draw-3d-force-graph.js') }}"> </script>

        <!-- <script type="text/javascript" src="three.js"></script>
        <script type="text/javascript" src="three-spriteMathtJaxedText.min.js"></script>
        <script src="https://unpkg.com/3d-force-graph"></script>
        <script type="text/javascript" src="draw-3d-force-graph.js"> </script> 
        -->
    </div>

    <div class="right">
        <div class="row1">
            <form role="search" class="navbar-form" id="search">
                <input type="text" value="Matrix" placeholder="Search" class="form-control" name="search">
                <button class="btn btn-default" type="submit">Search</button>
            </form>
        </div>

        <div class="row2">
            <iframe id="editor" width="100%" height="100%" src="editor"></iframe>
        </div>

        <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//d3js.org/d3.v3.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(function () {
                function search() {
                    // $('.row') will select any element with class="row"
                    // $('#row') will select the element with id=row
                    var query = $("#search").find("input[name=search]").val();
                    $.get("/search?q=" + encodeURIComponent(query),
                        function (data) {
                            var t = $(".row3").empty();
                            if (!data.nodes || data.nodes.length == 0) return;
                            data.nodes.forEach(function (node) {
                                t.append("uuid:" + node.uuid + ", name:" + node.name + ", labels: " + node.labels + "<br>")
                            });
                        }, "json");
                    return false;
                }

            $("#search").submit(search);
            search();
            })
        </script>

        <div class="row4">
            <svg></svg>
            <script src="https://d3js.org/d3.v4.min.js"></script>
            <script src="http://d3js.org/d3-selection-multi.v1.js"></script>
            <script src="{{ url_for('static', filename='d3js-force.js') }}"></script>
            <!--  <script src="d3js-force.js"></script> -->
        </div>
    </div>

</body>

</html>